<div class="analysis-container">
  <!-- Include the overview component -->

  <button [routerLink]="[backRoute]" class="back-btn">
    <svg
      width="32"
      height="32"
      viewBox="0 0 32 32"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <mask
        id="mask0_0_1638"
        style="mask-type: alpha"
        maskUnits="userSpaceOnUse"
        x="0"
        y="0"
        width="32"
        height="32"
      >
        <rect width="32" height="32" fill="#D9D9D9" />
      </mask>
      <g mask="url(#mask0_0_1638)">
        <path
          d="M15.9993 21.3315L17.866 19.4648L15.7327 17.3315H21.3327V14.6648H15.7327L17.866 12.5315L15.9993 10.6648L10.666 15.9981L15.9993 21.3315ZM15.9993 29.3315C14.1549 29.3315 12.4216 28.9815 10.7993 28.2815C9.17713 27.5815 7.76602 26.6315 6.56602 25.4315C5.36602 24.2315 4.41602 22.8204 3.71602 21.1981C3.01602 19.5759 2.66602 17.8426 2.66602 15.9981C2.66602 14.1537 3.01602 12.4204 3.71602 10.7981C4.41602 9.17591 5.36602 7.76479 6.56602 6.56479C7.76602 5.36479 9.17713 4.41479 10.7993 3.71479C12.4216 3.01479 14.1549 2.66479 15.9993 2.66479C17.8438 2.66479 19.5771 3.01479 21.1993 3.71479C22.8216 4.41479 24.2327 5.36479 25.4327 6.56479C26.6327 7.76479 27.5827 9.17591 28.2827 10.7981C28.9827 12.4204 29.3327 14.1537 29.3327 15.9981C29.3327 17.8426 28.9827 19.5759 28.2827 21.1981C27.5827 22.8204 26.6327 24.2315 25.4327 25.4315C24.2327 26.6315 22.8216 27.5815 21.1993 28.2815C19.5771 28.9815 17.8438 29.3315 15.9993 29.3315ZM15.9993 26.6648C18.9771 26.6648 21.4993 25.6315 23.566 23.5648C25.6327 21.4981 26.666 18.9759 26.666 15.9981C26.666 13.0203 25.6327 10.4981 23.566 8.43146C21.4993 6.36479 18.9771 5.33146 15.9993 5.33146C13.0216 5.33146 10.4993 6.36479 8.43268 8.43146C6.36602 10.4981 5.33268 13.0203 5.33268 15.9981C5.33268 18.9759 6.36602 21.4981 8.43268 23.5648C10.4993 25.6315 13.0216 26.6648 15.9993 26.6648Z"
          fill="#333333"
        />
      </g>
    </svg>
    Go Back
  </button>
  <app-compliance-overview
    [documentName]="documentName"
    [complianceScore]="complianceScore"
    [highSeverity]="highSeverity"
    [mediumSeverity]="mediumSeverity"
    [lowSeverity]="lowSeverity"
  >
  </app-compliance-overview>

  <!-- Tabs -->
  <div class="analysis-tabs">
    <button
      class="tab-button"
      [class.active]="activeTab === 'results'"
      (click)="setActiveTab('results')"
    >
      Results
    </button>
    <button
      class="tab-button"
      [class.active]="activeTab ==='analytics'"
      (click)="setActiveTab('analytics')"
    >
      Analytics
    </button>
  </div>

  <!-- Results Component -->
  <app-results
    *ngIf="activeTab === 'results'"
    [resultData]="resultData"
  ></app-results>

  <!-- Analytics Component -->
  <app-analytics *ngIf="activeTab === 'analytics'"></app-analytics>
</div>

<div class="footer-wrapper" [class.with-file]="selectedFileName">
  <div class="footer-upload-box">
    <!-- File Tag Row -->
    <div class="file-tag" *ngIf="selectedFileName">
      <div class="file-icon">
        <img
          src="https://cdn-icons-png.flaticon.com/512/337/337946.png"
          alt="File Icon"
        />
      </div>
      <span class="file-name">{{ selectedFileName }}</span>
      <div class="remove-file" (click)="removeFile()">
        <svg
          width="10"
          height="10"
          viewBox="0 0 10 10"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M1.26683 9.66658L0.333496 8.73325L4.06683 4.99992L0.333496 1.26659L1.26683 0.333252L5.00016 4.06659L8.7335 0.333252L9.66683 1.26659L5.9335 4.99992L9.66683 8.73325L8.7335 9.66658L5.00016 5.93325L1.26683 9.66658Z"
            fill="white"
          />
        </svg>
      </div>
    </div>

    <!-- Text Input -->
    <input type="text" class="chat-input" placeholder="Ask Anything" #myInput />

    <!-- Bottom Actions + Send Button -->
    <div class="footer-actions-row">
      <div class="upload-buttons">
        <button id="upload-trigger" (click)="triggerFileInput()">
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M11.2 18.9668H12.8667V14.225L14.7667 16.125L15.9333 14.95L12 11.0833L8.1 14.9832L9.275 16.15L11.2 14.225V18.9668ZM5.66675 22C5.21675 22 4.82642 21.8348 4.49575 21.5043C4.16525 21.1736 4 20.7833 4 20.3333V3.66675C4 3.21675 4.16525 2.82642 4.49575 2.49575C4.82642 2.16525 5.21675 2 5.66675 2H14.35L20 7.65V20.3333C20 20.7833 19.8348 21.1736 19.5042 21.5043C19.1736 21.8348 18.7833 22 18.3333 22H5.66675ZM13.5167 8.43325V3.66675H5.66675V20.3333H18.3333V8.43325H13.5167Z"
            />
          </svg>
          Upload
        </button>
        <!-- Hidden file input -->
        <input
          type="file"
          #fileInput
          (change)="onFileSelected($event)"
          style="display: none"
        />
        <button>
          <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M10 20C8.61117 20 7.30842 19.7375 6.09175 19.2125C4.87508 18.6875 3.81533 17.9736 2.9125 17.0708C2.00967 16.1681 1.29858 15.1056 0.77925 13.8833C0.25975 12.6611 0 11.3556 0 9.96675C0 8.57225 0.25975 7.27083 0.77925 6.0625C1.29858 4.85417 2.00967 3.79858 2.9125 2.89575C3.81533 1.99308 4.87508 1.28475 6.09175 0.770751C7.30842 0.256917 8.61117 0 10 0C11.3945 0 12.6987 0.256917 13.9125 0.770751C15.1263 1.28475 16.1847 1.99308 17.0875 2.89575C17.9903 3.79858 18.7014 4.85417 19.2208 6.0625C19.7403 7.27083 20 8.57225 20 9.96675C20 11.3556 19.7403 12.6611 19.2208 13.8833C18.7014 15.1056 17.9903 16.1681 17.0875 17.0708C16.1847 17.9736 15.1263 18.6875 13.9125 19.2125C12.6987 19.7375 11.3945 20 10 20ZM10 18.35C10.5333 17.75 10.9833 17.0833 11.35 16.35C11.7167 15.6167 12.0167 14.7723 12.25 13.8168H7.76675C7.98892 14.7278 8.28333 15.5583 8.65 16.3083C9.01667 17.0583 9.46667 17.7388 10 18.35ZM7.71675 18.0168C7.33892 17.4111 7.0125 16.7653 6.7375 16.0793C6.4625 15.3931 6.23333 14.6389 6.05 13.8168H2.56675C3.15008 14.8834 3.84033 15.7445 4.6375 16.4C5.43467 17.0555 6.46108 17.5944 7.71675 18.0168ZM12.3 18C13.4112 17.6445 14.407 17.1084 15.2875 16.3918C16.168 15.6751 16.8833 14.8168 17.4333 13.8168H13.9668C13.7723 14.6278 13.5403 15.3763 13.2708 16.0625C13.0014 16.7487 12.6778 17.3945 12.3 18ZM1.95 12.15H5.73325C5.68325 11.7388 5.65133 11.3597 5.6375 11.0125C5.62367 10.6653 5.61675 10.3168 5.61675 9.96675C5.61675 9.57225 5.62642 9.2125 5.64575 8.8875C5.66525 8.5625 5.7 8.21108 5.75 7.83325H1.95C1.8445 8.21108 1.77092 8.55975 1.72925 8.87925C1.68758 9.19858 1.66675 9.56108 1.66675 9.96675C1.66675 10.3723 1.68758 10.7431 1.72925 11.0793C1.77092 11.4153 1.8445 11.7722 1.95 12.15ZM7.43325 12.15H12.5833C12.6444 11.6945 12.6848 11.3043 12.7043 10.9793C12.7236 10.6543 12.7333 10.3168 12.7333 9.96675C12.7333 9.62775 12.7236 9.30133 12.7043 8.9875C12.6848 8.67367 12.6444 8.28892 12.5833 7.83325H7.43325C7.37225 8.28892 7.332 8.67367 7.3125 8.9875C7.293 9.30133 7.28325 9.62775 7.28325 9.96675C7.28325 10.3168 7.293 10.6543 7.3125 10.9793C7.332 11.3043 7.37225 11.6945 7.43325 12.15ZM14.25 12.15H18.05C18.1555 11.7722 18.2291 11.4153 18.2708 11.0793C18.3124 10.7431 18.3333 10.3723 18.3333 9.96675C18.3333 9.56108 18.3124 9.19858 18.2708 8.87925C18.2291 8.55975 18.1555 8.21108 18.05 7.83325H14.2668C14.3168 8.33325 14.3514 8.74025 14.3708 9.05425C14.3903 9.36808 14.4 9.67225 14.4 9.96675C14.4 10.3278 14.3875 10.6708 14.3625 10.9958C14.3375 11.3208 14.3 11.7055 14.25 12.15ZM13.95 6.16675H17.4333C16.9056 5.12225 16.2014 4.24167 15.3208 3.525C14.4403 2.80833 13.4278 2.29442 12.2833 1.98325C12.6611 2.57775 12.9848 3.2125 13.2543 3.8875C13.5236 4.5625 13.7555 5.32225 13.95 6.16675ZM7.76675 6.16675H12.2668C12.0778 5.33342 11.7861 4.53342 11.3918 3.76675C10.9973 3.00008 10.5333 2.30558 10 1.68325C9.5 2.18325 9.075 2.78608 8.725 3.49175C8.375 4.19725 8.05558 5.08892 7.76675 6.16675ZM2.56675 6.16675H6.06675C6.23892 5.35558 6.45692 4.61525 6.72075 3.94575C6.98475 3.27642 7.31117 2.62783 7.7 2C6.5555 2.31117 5.55133 2.8195 4.6875 3.525C3.82367 4.2305 3.11675 5.11108 2.56675 6.16675Z"
              fill="#353535"
            />
          </svg>
          Intranet Search
        </button>
        <button>
          <svg
            width="14"
            height="19"
            viewBox="0 0 14 19"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M0 19V17.3333H5.13325V14.9332H4.88325C3.52225 14.9332 2.36808 14.4597 1.42075 13.5125C0.473583 12.5653 0 11.4112 0 10.05C0 9.03333 0.2875 8.10833 0.8625 7.275C1.4375 6.44167 2.2 5.85 3.15 5.5C3.23883 4.86667 3.53192 4.35275 4.02925 3.95825C4.52642 3.56392 5.1 3.38342 5.75 3.41675L5.21675 1.91675L6.21675 1.55725L5.86675 0.63325L7.6 0L7.93325 0.93325L8.91675 0.58325L11.7168 8L10.6833 8.36675L11.0333 9.3L9.33325 9.91675L9 8.98325L7.96675 9.36675L7.35 7.68325C7.1 7.94992 6.80692 8.14442 6.47075 8.26675C6.13475 8.38892 5.7815 8.43892 5.411 8.41675C5.00367 8.39442 4.625 8.268 4.275 8.0375C3.925 7.807 3.63892 7.51675 3.41675 7.16675C2.87775 7.44442 2.45133 7.84142 2.1375 8.35775C1.82367 8.87408 1.66675 9.43817 1.66675 10.05C1.66675 10.9435 1.97942 11.703 2.60475 12.3285C3.23025 12.954 3.98975 13.2668 4.88325 13.2668H13.3333V14.9332H7.8V17.3333H14V19H0ZM8.81675 7.65L10 7.21675L8.1 2.21675L6.9 2.65L8.81675 7.65ZM5.597 7.08325C5.92683 7.08325 6.20425 6.97175 6.42925 6.74875C6.65425 6.52575 6.76675 6.24933 6.76675 5.9195C6.76675 5.58983 6.65517 5.3125 6.432 5.0875C6.209 4.8625 5.93267 4.75 5.603 4.75C5.27317 4.75 4.99575 4.8615 4.77075 5.0845C4.54575 5.30767 4.43325 5.58408 4.43325 5.91375C4.43325 6.24342 4.54483 6.52075 4.768 6.74575C4.991 6.97075 5.26733 7.08325 5.597 7.08325Z"
              fill="#353535"
            />
          </svg>
          Internal Research
        </button>
      </div>
      <div class="send-button-container">
        <button
          class="send-button-icon"
          (click)="sendFileMessage()"
          [disabled]="!selectedFileName"
        >
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M7 16V3.825L1.4 9.425L0 8L8 0L16 8L14.6 9.425L9 3.825V16H7Z"
              fill="white"
            />
          </svg>
        </button>
      </div>
    </div>
  </div>
</div>
